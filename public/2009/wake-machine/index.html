
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Wake Machine - Robby Grossman</title>
  <meta name="author" content="Robby Grossman">

  
  <meta name="description" content="Wake Machine enables Time Machine to backup to a target that is sleeping. Without Wake Machine, such backups will fail because the remote disk won’t &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rob.by/2009/wake-machine/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Robby Grossman" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$$','$$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1465008-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rob.by" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Wake Machine</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-06T13:15:17-04:00" pubdate data-updated="true">Sep 6<span>th</span>, 2009</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Wake Machine enables Time Machine to backup to a target that is sleeping. Without Wake Machine, such backups will fail because the remote disk won’t mount.<!--more--></p>

<p>Wake Machine runs as a mock daemon on the client. When Time Machine initiates a backup, Wake Machine sends a <a href="http://en.wikipedia.org/wiki/Wake-on-LAN#Magic_packet">magic packet</a> to the target machine to wake it up if it’s sleeping.</p>

<p>Caveats: If you’re using an older Mac, the target machine must be connected via ethernet (the machine you’re backing up can still be connected wirelessly via Airport). New Macs support wake on LAN using Airport.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Wake Machine works out of the box with OS X Leopard and Snow Leopard.</p>

<p>However, you’ll need <a href="http://git-scm.com/download">git</a> in order to install Wake Machine.</p>

<h2 id="getting-started">Getting Started</h2>

<p>Installation is as easy as cloning the Wake Machine repository. Navigate to the directory you’d like to install it in and run:</p>

<pre><code>git clone http://github.com/freerobby/wakemachine.git
</code></pre>

<p>Once installed, you must set up Wake Machine. The recommended method for doing this is the following:</p>

<ol>
  <li>
    <p>Ensure that both the target computer is awake.</p>
  </li>
  <li>
    <p>Run a time machine backup.</p>
  </li>
  <li>
    <p>Run Wake Machine setup:</p>

    <pre><code>bash wakemachine.sh setup
</code></pre>
  </li>
</ol>

<p>Setup will automatically detect your time machine target, resolve its IP address and discover its MAC address. This information will be written to your user profile.</p>

<h2 id="running-wake-machine">Running Wake Machine</h2>

<p>To launch the Wake Machine daemon manually, run:</p>

<pre><code>bash wakemachine.sh &amp;
</code></pre>

<p>To set up Wake Machine to run automatically on your system:</p>

<ol>
  <li>
    <p>Go to System Preferences and open the “Accounts” panel.</p>
  </li>
  <li>
    <p>Click “Login Items” at the top.</p>
  </li>
  <li>
    <p>Click the + icon to add a new login item.</p>
  </li>
  <li>
    <p>Select the wakemachine_daemon executable, and check the box next to it marked “Hide”.</p>
  </li>
  <li>
    <p>Restart your computer</p>
  </li>
</ol>

<p>Voilà, your target machine will now be woken up whenever Time Machine runs.</p>

<h2 id="key-links">Key Links</h2>

<ul>
  <li>
    <p><a href="http://github.com/freerobby/wakemachine/tree/master">Wake Machine development at github</a></p>
  </li>
  <li>
    <p><a href="http://www.pivotaltracker.com/projects/28564">Wake Machine tracking at Pivotal Tracker</a></p>
  </li>
</ul>

<h2 id="acknowledgments">Acknowledgments</h2>

<p>Wake Machine uses the <a href="http://gsd.di.uminho.pt/jpo/software/wakeonlan/">Wakeonlan perl script</a> written by Ico Doornekamp and José Pedro Oliveira.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Robby Grossman</span></span>

      








  


<time datetime="2009-09-06T13:15:17-04:00" pubdate data-updated="true">Sep 6<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/hacking/'>Hacking</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://rob.by/2009/wake-machine/" data-via="freerobby" data-counturl="http://rob.by/2009/wake-machine/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2009/use-time-machine-with-wake-on-lan-to-enable-network-backups-to-sleeping-devices/" title="Previous Post: Use Time Machine with Wake on LAN to Enable Network Backups to Sleeping Devices">&laquo; Use Time Machine with Wake on LAN to Enable Network Backups to Sleeping Devices</a>
      
      
        <a class="basic-alignment right" href="/2009/things-amazon-could-do-better/" title="Next Post: Things Amazon Could Do Better">Things Amazon Could Do Better &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://rob.by" alt="Home"><img src="/images/Home.png"></a>
      <a href="http://rob.by/archives/" alt="Archives"><img src="/images/Calendar.png"></a>
      <a href="mailto:robby@freerobby.com" alt="E-Mail"><img src="/images/Envelope.png"></a>
      <a href="http://rob.by/atom.xml" alt="subscribe feed"><img src="/images/rss.png"></a>
      </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/negotiating-your-startup-job-offer/">Negotiating Your Startup Job Offer</a>
      </li>
    
      <li class="post">
        <a href="/2013/remove-merged-branches-from-git/">Remove Merged Branches from Git</a>
      </li>
    
      <li class="post">
        <a href="/2012/migrating-to-riak-at-shareaholic/">Migrating to Riak at Shareaholic</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("freerobby", 0, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/freerobby" class="twitter-follow-button" data-show-count="false">Follow @freerobby</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Robby Grossman -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'freerobby';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rob.by/2009/wake-machine/';
        var disqus_url = 'http://rob.by/2009/wake-machine/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
